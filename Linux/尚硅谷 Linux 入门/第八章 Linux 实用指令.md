# Linux 实用指令
## 运行级别
### 基本介绍
1. 运行级别说明
    - 0: 关机
    - 1: 单用户【找回丢失密码】
    - 2: 多用户状态没有网络服务
    - 3: 多用户状态有网络服务
    - 4: 系统未使用保留给用户
    - 5: 图形界面
    - 6: 系统重启
    - 常用运行级别是 3 和 5 ，要修改默认的运行级别可以改文件 /etc/inittab 的 id:5:initdefault:  这一行中的数字

2. 设置运行级别
```
init [012356]
```

### 如何找回 root 密码
1. 思路
    - 进入单用户模式，然后修改 root 密码。因为进入单用户模式，root 不需要密码就可以登录。

2. 操作
    - 开机 -> 在引导时输入回车键 -> 看到一个界面输入 e -> 看到一个新界面，选中第二行(编辑内核)再输入 e -> 在这行最后输入 1 ，再输入回车键 -> 再次输入 b ，这时就会进入单用户模式。
    - 这时，我们就进入到单用户模式，使用 passwd 指令来修改 root 密码。

## 帮助指令
### 基本介绍
1. 概述
    - 当我们对某个指令不熟悉时，我们可以使用 Linux 提供的帮助指令来了解这个指令的使用方法。

### man 获得帮助信息
#### 基本介绍
1. man 指令
```
(1) man [命令或配置文件] # 功能描述，并获得帮助信息
```
2. 举例
```
(1) man ls
```

### help 指令
#### 基本介绍
1. help 指令
```
(1) help 命令 # 功能描述，获得 shell 内置命令的帮助信息
```
2. 举例
```
(1) help cd
```

## 文件目录类
### pwd 指令
1. pwd 指令
```
(1) pwd # 功能描述：显示当前工作目录的绝对路径
```
2. 举例
```
(1) pwd
```

### ls 指令
1. ls 指令
```
(1) ls [选项] [目录或是文件]
```
2. ls 常用选项
```
(1) -a 显示当前目录所有的文件的目录，包括隐藏的。
(2) -l 以列表的方式显示信息
```
3. 举例
```
(1) ls -al
```

### cd 指令
1. cd 指令
```
(1) cd [参数] # 功能描述：切换到指定目录
```
2. cd 常用参数
```
(1) 绝对路径和相对路径
(2) cd~ 或者 cd: 回到自己的家目录
(3) cd .. 回到当前目录的上一级目录
```

### mkdir 指令
1. mkdir 指令
```
(1) mkdir 指令用于创建目录
(2) mkdir [选项] 要创建的目录
```
2. mkdir 常用选项
```
(1) -p: 创建多级目录
```

### rmdir 指令
1. rmdir 指令
```
(1) rmdir 指令删除空目录
(2) rmdir [选项] 要删除的空目录
```
2. rmdir 注意事项
```
(1) rmdir 删除的是空目录，如果目录下由内容时无法删除的。提示：如果需要删除非空目录，需要使用 rm -rf 要删除的目录
```

### touch 指令
1. touch 指令
```
(1) touch 指令创建空文件
(2) touch 文件名称
```
2. 举例
```
(1) touch hello.txt
```

### cp 指令
1. cp 指令
```
(1) cp 指令拷贝文件到指定目录
(2) cp [选项] source dest
```
2. cp 常用选项
```
(1) -r: 递归复制整个文件夹
```
3. cp 使用细节
```
(1) 强制覆盖不提示的方法：
\cp
```

### rm 指令
1. rm 指令
```
(1) rm 指令移除文件或目录
(2) rm [选项] 要删除的文件或目录
```
2. rm 常用选项
```
-r: 递归删除整个文件夹
-f: 强制删除不显示
```

### mv 指令
1. mv 指令
```
(1) mv 移动文件与目录或重命名
(2) mv oldNameFile newNameFile # 功能描述：移动文件
```

### cat 指令
1. cat 指令
```
(1) cat 查看文件内容
(2) cat [选项] 要查看的文件
```
2. cat 常用选项
```
(1) -n: 显示行号
```
3. cat 使用细节
```
(1) cat 智能浏览文件，而不能修改文件，为了浏览方便，一般会带上管道命令 | more
```

### more 指令
1. more 指令
```
(1) more 指令是一个基于 Vi 编辑器的文本过滤器，它以全屏幕的方式按页显示文本文件的内容。
(2) more 要查看的文件
```
2. more 内置操作

|操作|功能说明|
|:--:|:--:|
|空白键|代表向下翻一页|
|Enter|代表向下翻一行|
|q|代表立刻离开，不再显示该文件内容|
|Ctrl+F|向下滚动一屏|
|Ctrl+B|返回上一屏|
|=|输出当前行的行号|
|:f|输出文件和当前行的行号|

### less 指令
1. less 基本介绍
```
(1) less 指令用来分屏查看文件内容，它的功能与 more 指令类似，但是比 more 指令更加强大，支持各种显示终端。
(2) less 指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大型文件具有较高的效率。
```
2. less 指令
```
(1) less 要查看的文件操作说明
```
3. less 内置操作

|操作|功能说明|
|:--:|:--:|
|空白键|向下翻动一页|
|[pagedown]|向下翻动一次|
|[pageup]|向上翻动一页|
|/字串|向下搜寻 [字串] 功能：n: 向下查找；N: 向上查找|
|?字串|向上搜寻 [字串] 功能：n: 向上查找；N: 向下查找|
|q|离开 less 这个程序|

### > 指令和 >> 指令
1. &#62; 指令和 >> 指令
```
(1) > 输出重定向和 >> 追加
(2) 基本语法
ls -l > 文件 # 功能描述：列表的内容写入文件 a.txt 中(覆盖写)
(3) ls -al >> 文件 # 功能描述：列表的内容追加到文件 aa.txt 的末尾
(4) cat 文件1 > 文件2 # 功能描述：将文件1的内容覆盖到文件2
(5) echo "内容" >> 文件
```

### echo 指令
1. echo 指令
```
(1) echo 输出内容到控制台
(2) echo [选项] [输出内容]
```
2. 举例
```
(1)  echo $PATH
```

### head 指令
1. head 指令
```
(1) head 用于显示文件的开头部分内容，默认情况下 head 指令显示文件的前 10 行内容
(2) head 文件 # 功能描述，查看文件头 10 行内容
(3) head -n 5 文件 # 功能描述，查看文件头 5 行内容，5 可以是任意行数
```

### tail 指令
1. tail 指令
```
(1) tail 用于输出文件中尾部的内容，默认情况下 tail 指令显示文件的后 10 行内容。
(2) tail 文件 # 功能描述：查看文件后 10 行内容
(3) tail -n 5 文件 # 功能描述：查看文件后 5 行内容，5 可以是任何行数
(4) tail -f 文件 # 功能描述：实时追踪该文档的所有更新，工作经常使用
```

### ln 指令
1. ln 基本介绍
```
(1) 软链接也叫符号链接，类似于 Windows 里的快捷方式，主要存放了链接其他文件的路径。
```
2. ln 指令
```
(1) ln -s [原文件或目录] [软链接名] # 功能描述：给原文件创建一个软链接
```
3. ln 细节说明
```
(1) 当我们使用 pwd 指令查看目录是，仍然看到的是软链接所在目录
```

### history 指令
1. history 基本介绍
```
(1) 查看已经执行过历史命令，也可以执行历史指令
```
2. history 指令
```
(1) history # 功能描述：查看已经执行过历史命令
(2) history 5: 此项说明会显示最近使用的 5 个命令
(3) !5: 此项说明执行历史编号为5的命令
```

## 时间日期类
### date 指令
1. date 指令
```
(1) date # 功能描述：显示当前时间
(2) date +%Y # 功能描述：显示当前年份
(3) date +%m # 功能描述：显示当前月份
(4) date +%d # 功能描述：显示当前是哪一天
(5) date "+%Y-%m-%d %H:%M:%S" # 功能描述：显示年月日时分秒
```
2. date 设置日期
```
(1) date -s 字符串
```

### cal 指令-查看日历
1. cal 指令
```
(1) cal [选项] # 功能描述：不加选项，显示本月日历
```

## 搜索查找类
### find 指令
1. find 基本介绍
```
(1) find 指令将从指定目录向下递归地遍历其各个子目录，将满足条件或者目录显示在终端。
```
2. find 指令
```
(1) find [搜索范围] [选项]
```
3. find 选项

|选项|功能|
|:--:|:--:|
|-name <查询方式>|按照指定文件名查找模式查找文件|
|-user <用户名>|查找属于指定用户名所有文件|
|-size <文件大小>|按照指定的文件大小查找文件|


### locate 指令
1. locate 基本介绍
    - locate 指令可以快速定位文件路径。
    - locate 指令利用事先建立的系统中所有文件名称及路径的 locate 数据库实现快速定位给定的文件。
    - locate 指令无需遍历整个文件系统，查询速度较快。
    - 为了保证查询结果的准确度，管理员必须定期更新 locate 时刻。

2. locate 指令
```
(1) locate 搜索文件
```
3. locate 特别说明
```
(1) 由于 locate 指令基于数据库进行查询，所以第一次运行前，必须使用 update db 指令创建 locate 数据库。
```

### grep 指令和管道符号 |
1. 基本介绍
```
(1) grep 过滤查找；管道符 |，表示将前一个命令的处理结果输出传递给后面的命令处理。
```
2. grep 指令
```
(1) grep [选项] 查找内容 源文件
```
3. grep 选项

|选项|功能|
|:--:|:--:|
|-n|显示匹配行及行号|
|-i|忽略字母大小写|

## 压缩和解压类
### gzip/gunzip 指令
1. gzip/gunzip 基本介绍
```
(1) gzip 用于压缩文件，gunzip 用于解压的
```
2. gzip/gunzip 指令
```
(1) gzip 文件 # 功能描述：压缩文件，只能将文件压缩为 *.gz 文件
(2) gunzip 文件.gz # 功能描述：解压缩文件命令
```

### zip/uzip 指令
1. zip/uzip 基本介绍
```
(1) zip 用于压缩文件，unzip 用于解压的，这个在项目打包发布中很有用的。
```
1. zip/uzip 指令
```
(1) zip [选项] XXX.zip 将要压缩的内容 # 功能描述：压缩文件和目录的命令
(2) unzip [选项] XXX.zip # 功能描述：解压缩文件
```
2. zip 常用选项
```
(1) -r 递归压缩，及压缩目录
```
3. unzip 常用选项
```
(1) -d <目录> 指定解压后文件的存放目录
```

### tar 指令
1. tar 基本介绍
```
(1) tar 指令是打包指令，最后打包后的文件是 .tar.gz 的文件
```
2. tar 指令
```
tar [选项] XXX.tar.gz 打包内容 # 功能描述：打包目录，压缩后的文件格式 .tar.gz
```
3. tar 选项

|选项|功能|
|:--:|:--:|
|-c|产生 .tar 打包文件|
|-v|显示详细信息|
|-f|指定压缩后文件名|
|-z|打包同时压缩|
|-x|解包 .tar 文件|

4. 举例
```
(1) 压缩多个文件，将 /home/a1.txt 和 /home/a2.txt 压缩成 a.tar.gz
tar -zcvf a.tar.gz a1.txt a2.txt
(2) 将 /home 的文件夹压缩成 myhome.tar.gz
tar -zcvf myhome.tar.gz /home/
(3) 将 a.tar.gz 解压到当前目录
tar -zxvf a.tar.gz
(4) 将 a.tar.gz 解压到 /opt/ 目录下
tar -zxvf a.tar.gz /opt/
```
